# 🎯 AllSports 프로덕션 데이터 관리 가이드

## 📊 **현재 데이터 상태**

### ✅ **깨끗한 프로덕션 환경**
- ✅ **더미 데이터 제거**: 테스트 팀, 사용자, 경기 모두 삭제됨
- ✅ **관리자 계정만 유지**: `admin@allsports.com / admin123!@#`
- ✅ **지역 데이터 완비**: 서울(25구), 경기도(16시), 인천(8구), 부산(8구)
- ✅ **재배포 안전**: 데이터 유지되도록 설정됨

## 🔐 **관리자 계정 정보**
```
이메일: admin@allsports.com
비밀번호: admin123!@#
권한: 시스템 관리자
```

## 🛠️ **데이터 관리 명령어**

### 1. 더미 데이터 정리 (운영 중 필요시)
```bash
# Cloudtype 콘솔에서 실행
npm run reset:clean
```
- 모든 팀, 경기, 일반 사용자 데이터 삭제
- 관리자 계정과 지역 데이터만 유지

### 2. 초기 데이터 복구
```bash
# 관리자 계정과 지역 데이터 재생성
npm run prisma:seed
```

### 3. 백업 관리
```bash
# 현재 데이터 백업
npm run backup

# 백업에서 복구
npm run restore [백업파일명]
```

## 🚀 **배포 및 데이터 유지**

### ✅ **자동 데이터 유지**
- **PostgreSQL 데이터베이스**: Cloudtype에서 영구 저장
- **재배포 시 데이터 보존**: 코드만 업데이트, 데이터는 유지
- **마이그레이션 자동 적용**: 스키마 변경 시에만 필요

### 📋 **재배포 시 체크리스트**
1. ✅ 코드 변경 커밋 & 푸시
2. ✅ Cloudtype 자동 빌드 & 배포
3. ✅ 데이터 자동 유지 (별도 작업 불필요)
4. ✅ `/api/health` 엔드포인트로 상태 확인

## 📈 **운영 중 데이터 현황**

### 👥 **사용자 관리**
- **실제 사용자 등록**: 회원가입 페이지에서 직접 가입
- **팀 생성**: 등록된 사용자가 직접 팀 생성
- **경기 신청**: 팀 간 실제 경기 매칭

### 🏆 **랭킹 시스템**
- **실시간 랭킹**: 실제 경기 결과 기반
- **지역별 랭킹**: 시/구별 팀 순위
- **스포츠별 랭킹**: 축구, 풋살 등 종목별

## 🔧 **문제 해결**

### 데이터베이스 연결 오류 시
```bash
# 헬스체크로 상태 확인
curl https://your-app.cloudtype.app/api/health

# 환경변수 확인 (프로덕션에서만)
curl https://your-app.cloudtype.app/api/debug
```

### 데이터 손실 시
```bash
# 최신 백업에서 복구
npm run restore

# 백업이 없다면 초기 설정으로 복구
npm run reset:clean
npm run prisma:seed
```

## 📊 **모니터링**

### 정기 점검 항목
- [ ] `/api/health` 엔드포인트 정상 응답
- [ ] 사용자 등록/로그인 기능 정상
- [ ] 팀 생성/가입 기능 정상
- [ ] 경기 신청/결과 입력 정상
- [ ] 랭킹 업데이트 정상

### 백업 주기
- **자동 백업**: 매일 새벽 2시 (설정 시)
- **수동 백업**: 중요 업데이트 전
- **보관 기간**: 최대 14개 백업 파일

---

**🎯 이제 프로덕션 환경이 완전히 준비되었습니다!**
**실제 사용자들이 가입하고 팀을 만들어 스포츠 활동을 시작할 수 있습니다. 🏃‍♂️⚽**
